"use strict";(self["webpackChunkdexc"]=self["webpackChunkdexc"]||[]).push([[230],{3613:function(){},2094:function(e,t,a){a.d(t,{Z:function(){return v}});var o=a(3396),s=a(7139);const i={key:0,class:"Horizontalspacing minaxgap"},n={key:1},l={key:0,class:"amountto"},r={key:1,style:{"text-align":"center"}},c={key:0,class:"amounttos"},d={key:1},u={class:"Settlement"},m={class:"dialog-footer"};function h(e,t,a,h,p,f){const w=(0,o.up)("el-tag"),g=(0,o.up)("el-table-column"),y=(0,o.up)("el-table"),v=(0,o.up)("el-input"),b=(0,o.up)("el-form-item"),_=(0,o.up)("el-option"),k=(0,o.up)("el-select"),C=(0,o.up)("el-form"),W=(0,o.up)("el-button"),x=(0,o.up)("el-dialog");return(0,o.wg)(),(0,o.j4)(x,{class:"Settlementbox",modelValue:p.dialogVisible,"onUpdate:modelValue":t[3]||(t[3]=e=>p.dialogVisible=e),title:"订单结算",width:"600px","before-close":f.handleClose},{footer:(0,o.w5)((()=>[(0,o._)("span",m,[(0,o.Wm)(W,{onClick:t[2]||(t[2]=e=>p.dialogVisible=!1)},{default:(0,o.w5)((()=>[(0,o.Uk)("取消")])),_:1}),(0,o.Wm)(W,{type:"primary",onClick:f.payment},{default:(0,o.w5)((()=>[(0,o.Uk)("支付")])),_:1},8,["onClick"])])])),default:(0,o.w5)((()=>[(0,o.Wm)(y,{data:p.table,border:"","row-class-name":f.tableRowClassName},{default:(0,o.w5)((()=>[(0,o.Wm)(g,{prop:"title","show-overflow-tooltip":"","min-width":"359",label:"名称"},{default:(0,o.w5)((e=>[e.row.summary?((0,o.wg)(),(0,o.iD)("div",i,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.row.value,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{key:t,class:"Channel Horizontalspacing minxgap"},[(0,o._)("div",null,(0,s.zw)(e.type)+":",1),(0,o.Wm)(w,{size:"small",type:"danger"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.plice),1)])),_:2},1024)])))),128))])):((0,o.wg)(),(0,o.iD)("div",n,(0,s.zw)(e.row.title),1))])),_:1}),(0,o.Wm)(g,{label:"数量",width:"55"},{default:(0,o.w5)((e=>[e.row.summary?((0,o.wg)(),(0,o.iD)("div",l,(0,s.zw)(e.row.quantity),1)):((0,o.wg)(),(0,o.iD)("div",r,(0,s.zw)(e.row.quantity),1))])),_:1}),(0,o.Wm)(g,{prop:"Price",label:"单价",width:"100"},{default:(0,o.w5)((e=>[e.row.summary?((0,o.wg)(),(0,o.iD)("div",c," $"+(0,s.zw)(e.row.Price),1)):((0,o.wg)(),(0,o.iD)("div",d,"$"+(0,s.zw)(e.row.Price),1))])),_:1})])),_:1},8,["data","row-class-name"]),(0,o._)("div",u,[(0,o.Wm)(C,{ref:"form",model:p.form,"label-width":"80px"},{default:(0,o.w5)((()=>[(0,o.Wm)(b,{label:"渠道码:"},{default:(0,o.w5)((()=>[(0,o.Wm)(v,{modelValue:p.form.code,"onUpdate:modelValue":t[0]||(t[0]=e=>p.form.code=e),size:"small",onChange:f.Channelcode},null,8,["modelValue","onChange"])])),_:1}),(0,o.Wm)(b,{label:"优惠券:"},{default:(0,o.w5)((()=>[(0,o.Wm)(k,{modelValue:p.form.key,"onUpdate:modelValue":t[1]||(t[1]=e=>p.form.key=e),placeholder:"优惠券",size:"small",onChange:f.input},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(p.couponskey,((e,t)=>((0,o.wg)(),(0,o.j4)(_,{key:t,label:e.Conditions>0?"满$"+e.Conditions+"减$"+e.Amount:"通用$"+e.Amount+"券",value:e.couponskey},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onChange"])])),_:1})])),_:1},8,["model"])])])),_:1},8,["modelValue","before-close"])}a(7658);var p=a(65),f=a(8898),w={props:["info"],computed:{...(0,p.rn)(["user"])},data(){return{form:{key:"",code:""},couponskey:[],table:[],dialogVisible:!1}},methods:{async payment(){if(this.table[this.table.length-1].Price<this.user.balance){let e={OrderNo:this.info.OrderNo,Channelcode:this.form.code,couponskey:this.form.key},t=await(0,f.aN)(["post=Ordersettlement",e]);200==t.code?(this.$message.success("购买成功"),this.$emit("custom-event",""),this.dialogVisible=!1):this.$message.error(`${t.massage}:${t.data}`)}else this.$message.error("余额不足")},async Channelcode(){if(this.form.code){let e=await(0,f.aN)(["post=onfetch",{from:"dex_Channelcode",code:this.form.code}]),t=!1;if(200==e.code){this.table[0].Channelcode="",this.table[1]=this.summaryrow();const a=new Date,o=a.getTime();(this.user.id==e.data.userid||0==e.data.userid)&&this.user.id!=e.data.BeneficiaryID&&1==e.data.state&&(o>=e.data.start_time||0==e.data.start_time)&&(o<=e.data.end_time||0==e.data.end_time)&&this.table[1].Price>e.data.Conditions&&(0==e.data.Category||e.data.Category==this.table[0]["type"]&&(e.data.ProductID==this.table[0]["ProductID"]||0==e.data.ProductID))&&(this.table[0].Channelcode=e.data.Amount,this.table[1]=this.summaryrow(),t=!0)}t||this.$message.error("渠道码不可用")}},input(){let e=this.couponskey;for(let t in e)e[t]["couponskey"]==this.form.key&&(this.table[0].coupons="",this.table[1]=this.summaryrow(),this.table[1].Price>e[t]["Conditions"]?(this.table[0].coupons=e[t]["Amount"],this.table[1]=this.summaryrow()):(this.$message.error("价格低于优惠券使用条件"),this.form.key=""))},async Calculateorders(){let e=await(0,f.aN)(["post=Calculateorders",[this.info]]);console.log("订单结果",e),200==e.code&&(this.couponskey=e.data[0].couponskey,this.table=e.data,this.table[1]=this.summaryrow()),this.dialogVisible=!0},summaryrow(){let e=0,t=0,a=[];return this.table[0].summary||(this.table[0].discount?(e+=this.table[0].discount/1,t+=this.table[0].Price/1-this.table[0].discount/1,a.push({type:"活动抵扣",plice:"减 $"+t})):e+=this.table[0].Price/1,this.table[0].coupons&&(e-=this.table[0].coupons/1,a.push({type:"优惠券",plice:"减 $"+this.table[0].coupons})),this.table[0].Channelcode&&(e-=this.table[0].Channelcode/1,a.push({type:"渠道优惠",plice:"减 $"+this.table[0].Channelcode}))),{quantity:"合计",Price:e>0?e:0,value:a,summary:!0}},tableRowClassName(e){const{row:t,rowIndex:a}=e;return t.summary?"warning-row":3===a?"":void 0},handleClose(e){this.$confirm("确认关闭？").then((t=>{e()})).catch((e=>{}))}},mounted(){this.Calculateorders()}},g=a(89);const y=(0,g.Z)(w,[["render",h],["__scopeId","data-v-9549cf76"]]);var v=y},7230:function(e,t,a){a.r(t),a.d(t,{default:function(){return Ie}});var o=a(3396),s=a(7139);const i={class:"columnnav"},n={class:"paddingtop10 coresnav"},l={class:"columnnav paddingtop10"},r={key:1,class:"Genericpadding"},c={class:"main"},d={class:"content coresinfo"},u={class:"Genericpadding"};function m(e,t,a,m,h,p){const f=(0,o.up)("el-breadcrumb-item"),w=(0,o.up)("el-breadcrumb"),g=(0,o.up)("Aliplayer"),y=(0,o.up)("information"),v=(0,o.up)("coresonly"),b=(0,o.up)("el-tab-pane"),_=(0,o.up)("CourseCatalog"),k=(0,o.up)("courseware"),C=(0,o.up)("el-tabs"),W=(0,o.up)("Instructorlist"),x=(0,o.Q2)("loading");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",i,[(0,o._)("div",n,[(0,o.Wm)(w,{"separator-icon":"ArrowRight"},{default:(0,o.w5)((()=>[(0,o.Wm)(f,{to:{path:"/"}},{default:(0,o.w5)((()=>[(0,o.Uk)("首页 ")])),_:1}),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(h.nav,((e,t)=>((0,o.wg)(),(0,o.j4)(f,{key:t,to:{path:"/course/"+e.alias}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.name),1)])),_:2},1032,["to"])))),128))])),_:1})])])),[[x,h.Loading,void 0,{fullscreen:!0,lock:!0}]]),(0,o._)("div",l,[h.medium?((0,o.wg)(),(0,o.j4)(g,{key:0,medium:h.medium,onCustomEnded:p.ended},null,8,["medium","onCustomEnded"])):((0,o.wg)(),(0,o.iD)("div",r,[h.courseinfo?((0,o.wg)(),(0,o.j4)(y,{key:0,courseinfo:h.courseinfo,Whethertobuy:h.Whethertobuy,onVerifycourse:p.Verifycourse,onCustomEvent:p.switch_tab},null,8,["courseinfo","Whethertobuy","onVerifycourse","onCustomEvent"])):(0,o.kq)("",!0)]))]),(0,o._)("div",c,[(0,o._)("div",null,[(0,o._)("div",d,[(0,o._)("div",u,[(0,o.Wm)(C,{modelValue:h.activeName,"onUpdate:modelValue":t[0]||(t[0]=e=>h.activeName=e),type:"card",class:"cortabs"},{default:(0,o.w5)((()=>[(0,o.Wm)(b,{label:"课程介绍",name:"introduce"},{default:(0,o.w5)((()=>[(0,o.Wm)(v,{content:h.content},null,8,["content"])])),_:1}),(0,o.Wm)(b,{label:"课程目录",name:"Tableofcontents"},{default:(0,o.w5)((()=>[h.data?((0,o.wg)(),(0,o.j4)(_,{key:0,data:h.data,next:h.next,onCustomEvent:p.Receive_medium},null,8,["data","next","onCustomEvent"])):(0,o.kq)("",!0)])),_:1}),(0,o.Wm)(b,{label:"相关课件",name:"courseware"},{default:(0,o.w5)((()=>[h.data?((0,o.wg)(),(0,o.j4)(k,{key:0,data:h.data},null,8,["data"])):(0,o.kq)("",!0)])),_:1})])),_:1},8,["modelValue"])])])]),(0,o._)("div",null,[h.courseinfo.lecturer?((0,o.wg)(),(0,o.j4)(W,{key:0,Instructorlist:h.courseinfo.lecturer},null,8,["Instructorlist"])):(0,o.kq)("",!0)])])],64)}a(7658);var h=a(65),p=a(3203);const f=e=>((0,o.dD)("data-v-67291765"),e=e(),(0,o.Cn)(),e),w={class:"content"},g=f((()=>(0,o._)("div",{class:"Genericpadding Intervalvertical"},[(0,o._)("p",{class:"center Instructorfgonz grey"},"讲师列表")],-1))),y={class:"author"},v=f((()=>(0,o._)("div",{class:"image-slot iconfont icon-setting-role"},null,-1))),b={class:"center Horizontalspacing minaxgap"},_={class:"center blod"},k={class:"abstract"},C=f((()=>(0,o._)("div",{class:"Genericpadding Intervalvertical"},[(0,o._)("a",{href:"http://",target:"_blank",rel:"noopener noreferrer"},[(0,o._)("img",{class:"picture",src:p,alt:""})])],-1)));function W(e,t,a,i,n,l){const r=(0,o.up)("el-avatar"),c=(0,o.up)("el-card");return(0,o.wg)(),(0,o.iD)("div",w,[g,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.Instructorlist,((e,t)=>((0,o.wg)(),(0,o.j4)(c,{key:t,shadow:"never"},{default:(0,o.w5)((()=>[(0,o._)("div",y,[(0,o.Wm)(r,{class:"Roundheadportraitbig center",src:e.Avatar},{default:(0,o.w5)((()=>[v])),_:2},1032,["src"]),(0,o._)("div",b,[(0,o._)("span",_,(0,s.zw)(e.nickname?e.nickname:e.username),1)]),(0,o._)("div",k,(0,s.zw)(e.signature),1)])])),_:2},1024)))),128)),C])}var x=a(8898),$={name:"HeaDer",computed:{...(0,h.rn)(["logon","user"])},props:["Instructorlist"],components:{},data(){return{}},methods:{},mounted(){}},z=a(89);const D=(0,z.Z)($,[["render",W],["__scopeId","data-v-67291765"]]);var V=D;const P=e=>((0,o.dD)("data-v-3b402074"),e=e(),(0,o.Cn)(),e),N={class:"gridrowtwo interval"},j={class:"image-slot"},U={class:"coreinfo"},H={class:"ThinLineLayout minaxgap grey"},I={class:"bold"},S={class:"Horizontalspacing space-around minfont"},E={class:"Horizontalspacing minxgap"},q={class:"center coreqzsolld truncate-texts"},A={class:"Horizontalspacing minxgap"},T={class:"center"},Z=P((()=>(0,o._)("div",{class:"corebox"},[(0,o._)("div",{class:"center Horizontalspacing"},[(0,o._)("span",{class:"corezzcn"},"郑重承诺"),(0,o._)("span",{class:"center"},"丨DEXC提供安全交易、信息保真!")])],-1))),L={class:"Horizontalspacing minaxgap"},O=P((()=>(0,o._)("div",{class:"my-label center"},"价格:",-1))),Y={class:"my-content center"},K=P((()=>(0,o._)("div",{class:"my-label center"},"领券:",-1))),Q={class:"columnLayout minaxgap"},R={class:"maxfonz"},G=P((()=>(0,o._)("div",{class:"minifonz"},"2021/12/12 12:00:00 - 2021/12/12 12:00:00",-1))),B=["onClick"],F=P((()=>(0,o._)("div",null,"领",-1))),M=P((()=>(0,o._)("div",null,"取",-1))),X={key:1,class:"iconfont icon-yilingqu receives"},J=P((()=>(0,o._)("div",null,null,-1))),ee={class:"dialog-footer"};function te(e,t,a,i,n,l){const r=(0,o.up)("PictureFilled"),c=(0,o.up)("el-icon"),d=(0,o.up)("el-image"),u=(0,o.up)("Edit"),m=(0,o.up)("el-avatar"),h=(0,o.up)("router-link"),p=(0,o.up)("View"),f=(0,o.up)("el-text"),w=(0,o.up)("el-countdown"),g=(0,o.up)("el-tag"),y=(0,o.up)("ShoppingTrolley"),v=(0,o.up)("el-button"),b=(0,o.up)("Star"),_=(0,o.up)("StarFilled"),k=(0,o.up)("Headset"),C=(0,o.up)("el-dialog"),W=(0,o.up)("settlement"),x=(0,o.Q2)("loading");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("div",N,[(0,o.Wm)(d,{class:"thumbnail",src:a.courseinfo.Displayimages},{error:(0,o.w5)((()=>[(0,o._)("div",j,[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(r)])),_:1})])])),_:1},8,["src"]),(0,o._)("div",U,[(0,o._)("div",H,[(0,o._)("span",I,(0,s.zw)(a.courseinfo.title),1),(0,o._)("div",S,[(0,o.Wm)(h,{to:/homepage/+a.courseinfo.user.id},{default:(0,o.w5)((()=>[(0,o._)("div",E,[(0,o.Wm)(m,{class:"center",src:a.courseinfo.user.Avatar,size:20},{default:(0,o.w5)((()=>[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(u)])),_:1})])),_:1},8,["src"]),(0,o._)("div",q,(0,s.zw)(a.courseinfo.user.nickname?a.courseinfo.user.nickname:a.courseinfo.user.username),1)])])),_:1},8,["to"]),(0,o._)("div",A,[(0,o.Wm)(c,{class:"center"},{default:(0,o.w5)((()=>[(0,o.Wm)(p)])),_:1}),(0,o._)("span",T,(0,s.zw)(a.courseinfo.PageView),1)])])]),Z,(0,o._)("div",L,[O,(0,o._)("div",Y,(0,s.zw)(a.courseinfo.saleperiod?a.courseinfo.discount>0?"$"+a.courseinfo.discount:"免费":a.courseinfo.Price>0?"$"+a.courseinfo.Price:"免费"),1),a.courseinfo.saleperiod?((0,o.wg)(),(0,o.j4)(f,{key:0,class:"center",tag:"del"},{default:(0,o.w5)((()=>[(0,o.Uk)("原价:"+(0,s.zw)(a.courseinfo.Price),1)])),_:1})):(0,o.kq)("",!0),a.courseinfo.saleperiod?((0,o.wg)(),(0,o.j4)(g,{key:1,type:"danger",effect:"plain"},{default:(0,o.w5)((()=>[(0,o.Wm)(w,{format:"[将于]D[天]HH[时]mm[分]ss[秒后恢复原价]",value:parseInt(a.courseinfo.DiscountEnd),"value-style":{fontSize:"10px"}},null,8,["value"])])),_:1})):(0,o.kq)("",!0)]),a.courseinfo.coupon.length>0?((0,o.wg)(),(0,o.iD)("div",{key:0,class:"Horizontalspacing minaxgap",onClick:t[0]||(t[0]=e=>l.vouchers())},[K,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.courseinfo.coupon.slice(0,3),((e,t)=>((0,o.wg)(),(0,o.j4)(g,{key:t,effect:"dark",type:"danger"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.Conditions>0?"满 $"+e.Conditions+" 减 $"+e.Amount:"通用:减 $"+e.Amount),1)])),_:2},1024)))),128))])):(0,o.kq)("",!0),(0,o._)("div",null,[a.Whethertobuy?((0,o.wg)(),(0,o.j4)(v,{key:0,class:"cobutton bold",type:"primary",onClick:t[1]||(t[1]=e=>l.study())},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{class:"el-icon--left"},{default:(0,o.w5)((()=>[(0,o.Wm)(y)])),_:1}),(0,o.Uk)(" 开始学习 ")])),_:1})):((0,o.wg)(),(0,o.j4)(v,{key:1,class:"cobutton bold",type:"primary",onClick:t[2]||(t[2]=e=>l.purchase())},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{class:"el-icon--left"},{default:(0,o.w5)((()=>[(0,o.Wm)(y)])),_:1}),(0,o.Uk)(" 购买课程 ")])),_:1})),(0,o.Wm)(v,{class:"cobutton bold",type:"warning",onClick:t[3]||(t[3]=e=>l.Savecourse())},{default:(0,o.w5)((()=>[n.Save?((0,o.wg)(),(0,o.j4)(c,{key:1,class:"el-icon--left"},{default:(0,o.w5)((()=>[(0,o.Wm)(_)])),_:1})):((0,o.wg)(),(0,o.j4)(c,{key:0,class:"el-icon--left"},{default:(0,o.w5)((()=>[(0,o.Wm)(b)])),_:1})),(0,o.Uk)((0,s.zw)(n.Save?"已收藏":"收藏课程"),1)])),_:1}),(0,o.Wm)(v,{class:"cobutton bold",type:"danger"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{class:"el-icon--left"},{default:(0,o.w5)((()=>[(0,o.Wm)(k)])),_:1}),(0,o.Uk)(" 联系客服 ")])),_:1})])])]),(0,o.Wm)(C,{class:"receivebox",modelValue:n.dialogVisible,"onUpdate:modelValue":t[5]||(t[5]=e=>n.dialogVisible=e),title:"领券",width:"400","before-close":l.handleClose},{footer:(0,o.w5)((()=>[(0,o._)("span",ee,[(0,o.Wm)(v,{type:"primary",onClick:t[4]||(t[4]=e=>n.dialogVisible=!1)},{default:(0,o.w5)((()=>[(0,o.Uk)("关闭")])),_:1})])])),default:(0,o.w5)((()=>[(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",Q,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.Canbeclaimed,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{key:t,class:"coupon"},[(0,o._)("div",null,[(0,o._)("span",R,(0,s.zw)(e.Conditions>0?"满$"+e.Conditions+"减$"+e.Amount:"通用$"+e.Amount+"券"),1),G]),e.receive?((0,o.wg)(),(0,o.iD)("div",X)):((0,o.wg)(),(0,o.iD)("div",{key:0,class:"receive",onClick:t=>l.setreceive(e.id)},[F,(0,o.Uk)(),M],8,B)),J])))),128))])),[[x,n.loading]])])),_:1},8,["modelValue","before-close"]),n.Purchasecourses?((0,o.wg)(),(0,o.j4)(W,{onCustomEvent:l.Purchasesuccessful,info:n.info,key:n.key},null,8,["onCustomEvent","info"])):(0,o.kq)("",!0)])}var ae=a(2094),oe={name:"name",props:["courseinfo","Whethertobuy"],computed:{...(0,h.rn)(["user"])},components:{settlement:ae.Z},data(){return{loading:!1,dialogVisible:!1,Purchasecourses:!1,Canbeclaimed:[],key:0,info:[],Save:!1}},methods:{Purchasesuccessful(){this.$emit("Verifycourse")},study(){this.$emit("custom-event","Tableofcontents")},async Savecourse(){let e=await(0,x.aN)(["post=Savecourse",this.courseinfo.id]);200==e.code&&(this.Save=!this.Save,this.Save?this.$message.success("收藏成功"):this.$message.success("取消成功"))},async getSavecourse(){let e=await(0,x.aN)(["post=getSavecourse",this.courseinfo.id]);console.log(e),200==e.code&&(this.Save=!0)},async setreceive(e){this.loading=!0;let t=await(0,x.aN)(["post=setreceive",e]);200==t.code?(this.$message.success("领取成功"),await this.vouchers()):this.$message.error("领取失败"),this.loading=!1},async vouchers(){let e=await(0,x.aN)(["post=Unclaimedvouchers",{Category:"1",ProductID:this.courseinfo.id}]);200==e.code?(this.Canbeclaimed=e.data,this.dialogVisible=!0):this.$message.error(e.data)},async purchase(){let e=await(0,x.aN)(["post=CreateOrder",[{id:this.courseinfo.id,type:1}]]);200==e.code?(this.info=e.data[0],console.log(this.info),this.Purchasecourses=!0,this.key++):this.$alert(e.massage+":"+e.data,"",{confirmButtonText:"确定",callback:e=>{}})},handleClose(e){this.$confirm("确认关闭？").then((t=>{e()})).catch((e=>{}))}},mounted(){this.user&&this.getSavecourse()},watch:{user(e,t){console.log("收藏"),e&&this.getSavecourse()}}};const se=(0,z.Z)(oe,[["render",te],["__scopeId","data-v-3b402074"]]);var ie=se;function ne(e,t,a,s,i,n){const l=(0,o.up)("QuillEditor");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(l,{ref:"myQuillEditor",theme:"bubble",options:i.editorOption,contentType:"html"},null,8,["options"])])}var le=a(6149),re=a(5792),ce=(a(3613),{name:"coresonly",props:["content"],components:{QuillEditor:le.Bn},data(){return{editorOption:{readOnly:!0,modules:{toolbar:null,syntax:{highlight:e=>re.Z.highlightAuto(e).value}}}}},methods:{async get(){if(this.content){const e=this.$refs.myQuillEditor.editor.__quill;e.setContents(this.content)}else console.log("没有内容")}},mounted(){this.$nextTick((()=>{this.get()}))},watch:{content(e){this.get()}}});const de=(0,z.Z)(ce,[["render",ne],["__scopeId","data-v-15aeef3e"]]);var ue=de;const me={class:"custom-tree-node"},he={class:"Horizontalspacing interval"},pe={class:"bold"},fe={key:0,class:"center Gray"};function we(e,t,a,i,n,l){const r=(0,o.up)("VideoPause"),c=(0,o.up)("VideoPlay"),d=(0,o.up)("el-icon"),u=(0,o.up)("el-button"),m=(0,o.up)("el-tree");return(0,o.wg)(),(0,o.j4)(m,{data:a.data,props:n.defaultProps,"default-expand-all":!0},{default:(0,o.w5)((({node:e,data:t})=>[(0,o._)("span",me,[(0,o._)("span",he,[(0,o._)("span",pe,(0,s.zw)(e.label),1),t.vidoid?((0,o.wg)(),(0,o.iD)("span",fe,(0,s.zw)(t.duration),1)):(0,o.kq)("",!0)]),t.vidoid?((0,o.wg)(),(0,o.j4)(u,{key:0,type:"danger",link:"",onClick:e=>l.handleNodeClick(t)},{default:(0,o.w5)((()=>[(0,o.Uk)("播放 "),(0,o.Wm)(d,{class:"el-icon--right"},{default:(0,o.w5)((()=>[t.$treeNodeId==n.index.$treeNodeId?((0,o.wg)(),(0,o.j4)(r,{key:0})):((0,o.wg)(),(0,o.j4)(c,{key:1}))])),_:2},1024)])),_:2},1032,["onClick"])):(0,o.kq)("",!0)])])),_:1},8,["data","props"])}var ge={props:["next","data"],data(){return{index:"",defaultProps:{children:"children",label:"title"}}},methods:{handleNodeClick(e){console.log(e),this.$emit("custom-event",e.vidoid),this.index=e},tonext(){const e=this.findNextNodeWithUrl(this.index);e&&e.vidoid?(this.index=e,console.log("下一个视频地址：",e.vidoid),this.$emit("custom-event",e.vidoid)):console.log("下一个节点没有视频地址")},findNextNodeWithUrl(e){const t=this.findParentNode(this.data,e);if(null!==t){const a=t.children.indexOf(e);for(let e=a+1;e<t.children.length;e++)if(t.children[e].vidoid)return t.children[e]}return t?this.findNextNodeWithUrl(t):null},findParentNode(e,t){for(let a=0;a<e.length;a++){if(e[a].children&&e[a].children.includes(t))return e[a];if(e[a].children){const o=this.findParentNode(e[a].children,t);if(null!==o)return o}}return null}},watch:{next(e){this.tonext()}}};const ye=(0,z.Z)(ge,[["render",we]]);var ve=ye;const be={class:"custom-tree-node"},_e={class:"bold"};function ke(e,t,a,i,n,l){const r=(0,o.up)("Download"),c=(0,o.up)("el-icon"),d=(0,o.up)("el-button"),u=(0,o.up)("el-tree");return(0,o.wg)(),(0,o.j4)(u,{data:a.data,props:n.defaultProps,"default-expand-all":!0},{default:(0,o.w5)((({node:e,data:t})=>[(0,o._)("span",be,[(0,o._)("span",_e,(0,s.zw)(e.label),1),t.path?((0,o.wg)(),(0,o.j4)(d,{key:0,type:"primary",link:"",onClick:e=>l.handleNodeClick(t.path)},{default:(0,o.w5)((()=>[(0,o.Uk)("下载 "),(0,o.Wm)(c,{class:"el-icon--right"},{default:(0,o.w5)((()=>[(0,o.Wm)(r)])),_:1})])),_:2},1032,["onClick"])):(0,o.kq)("",!0)])])),_:1},8,["data","props"])}var Ce={props:["data"],data(){return{defaultProps:{children:"courseware",label:"title"}}},methods:{async handleNodeClick(e){console.log(e);let t=await(0,x.aN)(["post=Coursewaredownloadaddress",e]);200==t.code?(window.open(t.data),console.log(t.data)):this.$message.error(t.data)}},mounted(){}};const We=(0,z.Z)(Ce,[["render",ke]]);var xe=We;const $e={ref:"myElement"},ze=(0,o._)("div",{id:"player-container"},[(0,o._)("div",{class:"watermark"})],-1),De=[ze];function Ve(e,t,a,s,i,n){return(0,o.wg)(),(0,o.iD)("div",$e,De,512)}var Pe={name:"MyVideoPlayer",props:["medium"],data(){return{player:null,jianting:""}},methods:{initializePlayer(){this.player&&this.player.dispose(),this.player=new window.Aliplayer({id:"player-container",source:this.medium,autoplay:!0,width:`${this.videoWidth}px`,height:`${this.videoHeight}px`,isLive:!1,autoPlayDelay:3,autoPlayDelayDisplayText:"请等待..."}),this.player.on("ended",(()=>{console.log("视频播放完毕"),this.$emit("custom-ended",!0)}))}},mounted(){this.initializePlayer()},computed:{videoHeight(){const e=this.$refs.myElement,t=e.offsetWidth,a=16/9;return t/a},videoWidth(){const e=this.$refs.myElement;return e.offsetWidth}},watch:{medium(e){this.initializePlayer(e)}}};const Ne=(0,z.Z)(Pe,[["render",Ve]]);var je=Ne,Ue={name:"name",computed:{...(0,h.rn)(["user"])},components:{Instructorlist:V,information:ie,coresonly:ue,CourseCatalog:ve,courseware:xe,Aliplayer:je},data(){return{Loading:!1,nav:[],data:"",courseid:this.$route.params.courseid,activeName:"introduce",next:1,medium:"",content:"",courseinfo:"",Whethertobuy:!1}},methods:{async get(){this.Loading=!0;let e=await(0,x.aN)(["post=Coursecontent",this.courseid]);console.log(e),200==e.code&&(this.courseinfo=e.data,this.content=e.data.content,this.data=e.data.course),this.user&&this.Verifycourse();let t=await(0,x.aN)(["post=Courselevel",this.$route.params.comn]);200==t.code&&(t=t.data.nav,t.unshift({id:"0",name:"全部课程",alias:"",pid:"0",level:"0"}),t.push({id:"0",name:"详情",alias:"",pid:"0",level:"0"}),this.nav=t),this.Loading=!1},async Verifycourse(){let e=await(0,x.aN)(["post=Verifycoursepurchased",this.courseid]);200==e.code&&(this.Whethertobuy=!0)},async switch_tab(e){console.log("切换目录"),this.activeName=e,window.scrollTo({behavior:"instant",top:400})},async Receive_medium(e){console.log(e);let t=await(0,x.aN)(["post=initVodClient",e]);console.log(t),200==t.code?this.medium=t.data:this.$message.error(t.data)},ended(){console.log("播放完毕"),this.next++}},mounted(){window.scrollTo({behavior:"instant",top:0}),this.get()},updated(){},watch:{user(e,t){e&&this.Verifycourse()}}};const He=(0,z.Z)(Ue,[["render",m],["__scopeId","data-v-737eb74c"]]);var Ie=He}}]);
//# sourceMappingURL=230.c2b1c999.js.map